syntax = "proto3";

package chat;

service ChatService {
  rpc CreateRoom (CreateRoomRequest) returns (CreateRoomResponse);
  rpc InviteUser (InviteUserRequest) returns (InviteUserResponse);
  rpc ListRooms (Empty) returns (ListRoomsResponse);
  rpc JoinRoom (JoinRoomRequest) returns (JoinRoomResponse);
}

message CreateRoomRequest {
  string room_name = 1;
  string creator = 2;
}

message CreateRoomResponse {
  bool success = 1;
  string message = 2;
}

message InviteUserRequest {
  string room_name = 1;
  string username = 2;
}

message InviteUserResponse {
  bool success = 1;
  string message = 2;
}

message JoinRoomRequest {
  string room_name = 1;
  string username = 2;
}

message JoinRoomResponse {
  repeated Message last_messages = 1;
}

message ListRoomsResponse {
  repeated string rooms = 1;
}

message Message {
  string sender = 1;
  string text = 2;
  string timestamp = 3;
}

message Empty {}
